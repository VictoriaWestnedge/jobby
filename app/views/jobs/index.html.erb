<div class="container mt-3 mb-3">
  <h3>Available Jobs</h3>
    <div data-controller="search-jobs">
      <%= form_with url: jobs_path, method: :get, html: {class:
        "mb-4", data: {search_jobs_target: "form"}} do |f| %>
          <%= f.text_field :query,
                            class: "form-control",
                            placeholder:"Search for a job",
                            value: params[:query],
          data: {
            search_jobs_target: "input",
            action: "keyup->search-jobs#update"
            } %>
      <% end %>

      <%= render "list", jobs: @jobs %>
    </div>

    <div style="width: 100%; height: 600px;"
      data-controller="map"
      data-map-markers-value="<%= @markers.to_json %>"
      data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
    </div>

</div>
